{% macro addfield(xfield, value=True) -%}
  <div class="clearfix control-group{% if xfield.errors %} error{% endif %}">
    <label for="{{ xfield.name }}" class="control-label">{{ xfield.label.text }}
      {% if xfield.flags.required %}<abbr title="Required field.">*</abbr>{% endif %}</label>
    <div class="controls" id="{{ xfield.name }}-div">
      <input id="{{ xfield.name }}" name="{{ xfield.name }}" type="{{ xfield.widget.input_type }}"{% if value %} value="{{ xfield.data|replace(None,'') }}"{% endif %}>
      {% if xfield.errors -%}
        {% for error in xfield.errors %}<span class="alert help-inline">{{ error }}</span>{% endfor %}
      {% endif -%}
    </div>
  </div>
{% endmacro -%}
